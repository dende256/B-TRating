# B-TRating ドキュメント

## 概要
B-TRatingは、Bradley-Terryモデルを用いて対戦データからプレイヤーの強さ（log-strength）を推定・可視化するWebアプリケーションです。CSVファイルで試合結果をアップロードし、各種グラフで分析結果を表示します。

## 主な機能
- CSVアップロードによる対戦データ解析
- Bradley-Terryモデルによるレーティング推定
- ベイズ推定による信頼区間の算出
- 各種グラフによる可視化
- 保存済み結果の閲覧

## グラフ解説

### 1. 信頼区間付きランキング
- ベイズ推定で得られた平均値と95%信頼区間（CI）をエラーバー付きで表示します。
- 各プレイヤーの強さ推定値とその不確実性が一目で分かります。

### 2. レーティンググラフ（log-strength）
- 各プレイヤーの推定強さ（logスケール）を横棒グラフで表示します。
- 0を基準に、正の値は強い、負の値は弱いことを示します。
- 勝利数が0のプレイヤーは除外されます。

### 3. 収束分析
- 試合数の増加に伴うレーティング変化（最大変化量）を折れ線グラフで表示します。
- データが十分に集まると、レーティングが安定（収束）する様子が分かります。

### 4. レーティング推移
- 各プレイヤーの試合数ごとのレーティング変化を時系列で表示します。
- 新規参入や急成長・下降など、プレイヤーごとの動向が分かります。

### 5. 対戦勝率マトリックス
- 各プレイヤー同士の勝率（推定値）を色分けしたマトリックスで表示します。
- 行が勝者、列が敗者。色が濃いほど勝率が高いことを示します。

## 使い方
1. トップページでCSVファイルをアップロード
2. 分析結果とグラフが表示されます
3. 保存済み結果は「📊 保存済み結果を見る」から閲覧可能

## 参考
- [Bradley-Terry Model (Wikipedia)](https://en.wikipedia.org/wiki/Bradley%E2%80%93Terry_model)
- [B-TRating GitHubリポジトリ](https://github.com/dende256/B-TRating)

---

このドキュメントは `docs/graph_explanation.md` に保存されています。
